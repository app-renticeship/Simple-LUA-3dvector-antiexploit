-- dante 2018

pcall(function() 
	wait(2)
	script.Parent = nil
	

	local player = game.Players.LocalPlayer
	local playerobj = game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")

	local hrp = playerobj
	local oldvalue = hrp.CFrame
	print(tostring("OLD\nx: "..tostring(oldvalue.x).."\nz:"..tostring(oldvalue.z)))
	local oldmag = (Vector3.new(oldvalue.x,0,oldvalue.z)-Vector3.new(hrp.CFrame.p.x,0,hrp.CFrame.p.z)).magnitude
spawn(function()
	while wait() do
			
		--if HRP(player) then
			--local oldy = playerobj.Head.Position.y
			--local newvalue pcall(function()return playerobj.HumanoidRootPart.Position  end)
			--print("startloop\nnew "..tostring(newvalue).."\nold "..tostring(oldvalue))
			local exist,newmag = pcall(function()return(Vector2.new(oldvalue.p.x,oldvalue.p.z)-Vector2.new(hrp.CFrame.p.x,hrp.CFrame.p.z)).magnitude end)
			if not exist then
				--HRP(player)
				break;
			end
			print("LOCAL "..newmag.." "..player.Name)
			--if newmag>10 then
				--hrp.CFrame = oldvalue
			--else
				--if newmag~= oldmag then
					if newmag>0.81 then
						warn(playerobj.Name.." Irregular movement")
						hrp.CFrame = oldvalue
						--hrp.CFrame = oldvalue
					end
			 --end
				--end	
			
			oldvalue=hrp.CFrame
			oldmag = newmag
		--else
		--	break;
		--end
		end
end)

while wait() do
	
	
	
	
end
end)
